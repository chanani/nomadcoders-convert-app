<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script> 
  <link rel="stylesheet" href="convert.css" />
  <title>Document</title>
</head>
<body>
  
  <div id="root">
    
  </div>

</body>

<script type="text/babel">
  // const container = React.createElement("div", null, [Title, Button]);
  // 컴포넌트의 첫 글자는 반드시 대문자로 작성

  function MinutesToHours() {
    const [amount, setAmount] = React.useState(0);
    const [flipped, setFlipped] = React.useState(false);
    const onChange = (event) => {
      setAmount(event.target.value);
    }
    const reset = () => setAmount(0);
    const onFlip = () => {
      reset();
      setFlipped((current) => !current);
    }
    return ( 
    <div>
      <div>
      <label htmlFor="minutes">Minutes</label>
      <input 
        value={flipped ? amount * 60 : amount}
        id="minutes" 
        type="number" 
        placeholder="Minutes"
        onChange={onChange}
        disabled={flipped}
      />
    </div>
    <div>
      <label htmlFor="hours">Hours</label>
      <input 
        value={flipped ? amount : Math.round(amount / 60)}
        id="hours" 
        type="number" 
        placeholder="Hours"
        disabled={!flipped}
        onChange={onChange}
      />
    </div>
    <button onClick={reset}>Reset</button>
    <button onClick={onFlip}>flip</button>
      
    </div>
    );
  }
 
  function KmToMiles(){
    const [cm, setCm] = React.useState(0);
    const [inch, setInch] = React.useState(0);
    const [flip, setFlip] = React.useState(false);
    const onChangeCm = (event) => {
      setCm(event.target.value);
    }
    const onChangeInch = (event) => {
      setInch(event.target.value);
    }
    const reset = () => {
      setCm(0);
      setInch(0);
    }
    const changeFlip = () => {
      reset();
      setFlip((current) => !current);
    }

    return (
      <div>
        <div>
          <label htmlFor="cm">cm</label>
          <input 
            value={flip ? inch * 2.54 : cm}
            id="cm" 
            type="number" 
            placeholder="cm"
            onChange={onChangeCm}
            disabled={flip}
          />
        </div>

        <div>
          <label htmlFor="inch">inch</label>
          <input 
          value={flip ? inch : cm !== 0 ? (cm / 2.54).toFixed(2) : 0}
            id="inch" 
            type="number" 
            placeholder="inch"
            onChange={onChangeInch}
            disabled={!flip}
          />
        </div>

        <button onClick={reset}>Reset</button>
        <button onClick={changeFlip}>Flip</button>
      </div>
    );
  }




  function App() {
    const [index, setIndex] = React.useState("x");
    const onSelect = (event) => {
      setIndex(event.target.value);
    }
    return ( 
    <div>
      <h1>Super Converter</h1>
      <select value={index} onChange={onSelect}>
        <option value="x">Select Your units</option>
        <option value="0">Minutes & Hours</option>  
        <option value="1">Cm & Inch</option>  
      </select>
      <hr/>
      {index === "x" ? "Please select your units" : null}
      {index === "0" ?  <MinutesToHours /> : null}
      {index === "1" ?  <KmToMiles /> : null}

    </div>
    );
  }


  ReactDOM.render(<App />, root);
        
  // let counter = 0;
  // function countUp(){
  //   counter += 1;
  //   render();
  // }
  // function render(){
  //   ReactDOM.render(<Container />, root);

  // }
</script>
</html>